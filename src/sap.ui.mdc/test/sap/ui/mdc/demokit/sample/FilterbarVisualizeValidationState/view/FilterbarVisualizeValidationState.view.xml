<mvc:View
	height="100%"
	displayBlock="true"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:f="sap.f"
	xmlns:mdc="sap.ui.mdc"
	xmlns:ce="sap.ui.codeeditor"
	controllerName="mdc.sample.controller.FilterbarVisualizeValidationState"
	>

	<f:DynamicPage id="page" headerExpanded="{/headerExpanded}">
		<f:title>
			<f:DynamicPageTitle id="pageTitle" stateChange="onStateChanged">
				<f:actions>
				</f:actions>
				<f:snappedContent>
					<HBox id="snappedContentHBox" justifyContent="End" width="100%">
						<Button id="validateButton" type="Emphasized" text="Validate collapsed filterbar" press=".handleValidateCollapsedFilterBarPress"/>
					</HBox>
				</f:snappedContent>
				<f:expandedContent>
					<HBox id="expandedContentHBox">
					</HBox>
				</f:expandedContent>
			</f:DynamicPageTitle>
		</f:title>
		<f:header>
			<f:DynamicPageHeader id="pageHeader" pinnable="true">
				<mdc:FilterBar
					id="mountainsFilterbar"
					delegate="{ name: 'mdc/sample/delegate/JSONFilterBarDelegate', payload: {}}"
					p13nMode = "Item,Value"
					propertyInfo='[\{"name": "first_ascent", "label": "First Ascent", "path": "first_ascent", "dataType":"sap.ui.model.type.Date", "formatOptions": \{"style": "long"\}, "maxConditions": 1, "visible": true, "required": true\},
								   \{"name": "rank", "label": "Rank", "path": "rank", "dataType":"sap.ui.model.type.Integer", "formatOptions": \{"emptyString": 0\}, "constraints": \{"minimum": 0\}, "visible": true, "required": true\}]'
					showAdaptFiltersButton="false"
					filtersChanged="handleFiltersChanged">
					<mdc:filterItems>
						<mdc:FilterField
							id="mountainsFilterbar--filter--rank"
							propertyKey="rank"
							delegate="{name: 'sap/ui/mdc/field/FieldBaseDelegate'}"
						/>
						<mdc:FilterField
							id="mountainsFilterbar--filter--first_ascent"
							propertyKey="first_ascent"
							delegate="{name: 'sap/ui/mdc/field/FieldBaseDelegate'}"
						/>
					</mdc:filterItems>
				</mdc:FilterBar>
			</f:DynamicPageHeader>
		</f:header>
		<f:content>
			<VBox id="ConditionsLayout" width="100%">
				<VBox>
					<Title id="conditionsTitle" text="Conditions"/>
					<Label id="inputTextLabel" text="Editor height (px)" labelFor="inputText" />
					<Slider
						id="inputText"
						value="{/editorHeight}"
						min="100"
						enableTickmarks="true"
						max="800"
						step="50"
						class="sapUiMediumMarginBottom"/>
				</VBox>
				<HBox id="codeEditorsLayout" width="100%">
					<VBox id="conditionsEditorLayout" width="50%">
						<Text id="coditionsEditorText" text="The following JSON is the output of the conditions of the FilterBar." class="sapUiSmallMarginBottom" />
						<ce:CodeEditor
							id="conditionsEditor"
							type="json"
							value="{/conditionsText}"
							editable="false"
							width="100%"
							height="{
								path: '/editorHeight',
								formatter: '.formatter.formatHeight'
							}" />
					</VBox>
					<VBox id="FilterEditorLayout" width="50%">
						<Text id="FilterEditorText" text="The following text is the output of the model filter of the FilterBar." class="sapUiSmallMarginBottom" />
						<ce:CodeEditor
							id="filterEditor"
							type="text"
							value="{/modelFilterText}"
							editable="false"
							width="100%"
							height="{
								path: '/editorHeight',
								formatter: '.formatter.formatHeight'
							}" />
					</VBox>
				</HBox>
			</VBox>
		</f:content>
	</f:DynamicPage>
</mvc:View>