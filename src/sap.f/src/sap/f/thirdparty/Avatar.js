sap.ui.define(["sap/f/thirdparty/webcomponents","sap/f/thirdparty/event-strict","sap/f/thirdparty/parameters-bundle.css","sap/f/thirdparty/parameters-bundle.css2","sap/f/thirdparty/Theme","sap/f/thirdparty/Icon","sap/f/thirdparty/i18n-defaults2","sap/f/thirdparty/Icons"],function(t,e,a,o,i,r,n,c){"use strict";function s(){return o.jsxs("div",{class:"ui5-avatar-root",tabindex:this.tabindex,"data-sap-focus-ref":true,role:this._role,"aria-haspopup":this._ariaHasPopup,"aria-label":this.accessibleNameText,onKeyUp:this._onkeyup,onKeyDown:this._onkeydown,onClick:this._onclick,children:[this._hasImage?o.jsx("slot",{}):o.jsxs(o.Fragment,{children:[this.icon&&o.jsx(r.Icon,{class:"ui5-avatar-icon",name:this.icon,accessibleName:this.accessibleName}),this.initials?o.jsxs(o.Fragment,{children:[o.jsx("span",{class:"ui5-avatar-initials ui5-avatar-initials-hidden",children:this.validInitials}),o.jsx(r.Icon,{name:this.fallbackIcon,class:"ui5-avatar-icon ui5-avatar-icon-fallback ui5-avatar-fallback-icon-hidden"})]}):o.jsx(r.Icon,{name:this.fallbackIcon,class:"ui5-avatar-icon ui5-avatar-icon-fallback"})]}),o.jsx("slot",{name:"badge"})]})}i.f("@"+"ui5"+"/"+"webcomponents-theming","sap_horizon",async()=>o.defaultThemeBase);i.f("@"+"u"+"i"+"5"+"/"+"w"+"e"+"b"+"c"+"o"+"m"+"p"+"o"+"n"+"e"+"n"+"t"+"s","sap_horizon",async()=>a.defaultTheme,"host");var h=`:host(:not([hidden])){display:inline-block;box-sizing:border-box;position:relative;font-family:var(--sapFontFamily)}:host(:not([hidden]).ui5_hovered){opacity:.7}:host([interactive]:not([disabled])){cursor:pointer}:host([interactive]:not([hidden]):active){background-color:var(--sapButton_Active_Background);border-color:var(--sapButton_Active_BorderColor);color:var(--sapButton_Active_TextColor)}:host([interactive]:not([hidden]):not([disabled]):not(:active):not([focused]):hover){box-shadow:var(--ui5-avatar-hover-box-shadow-offset)}:host([interactive][desktop]:not([hidden])) .ui5-avatar-root:focus,:host([interactive]:not([hidden])) .ui5-avatar-root:focus-visible{outline:var(--_ui5_avatar_outline);outline-offset:var(--_ui5_avatar_focus_offset)}:host([disabled]){opacity:var(--sapContent_DisabledOpacity);pointer-events:none}:host{height:3rem;width:3rem;border-radius:50%;border:var(--ui5-avatar-initials-border);outline:none;color:var(--ui5-avatar-initials-color)}.ui5-avatar-root{display:flex;align-items:center;justify-content:center;outline:none;height:100%;width:100%;border-radius:inherit}:host([size="XS"]){height:2rem;width:2rem;min-height:2rem;min-width:2rem;font-size:var(--_ui5_avatar_fontsize_XS)}:host(:not([size])),:host([size="S"]){min-height:3rem;min-width:3rem;font-size:var(--_ui5_avatar_fontsize_S)}:host([size="M"]){min-height:4rem;min-width:4rem;font-size:var(--_ui5_avatar_fontsize_M)}:host([size="L"]){min-height:5rem;min-width:5rem;font-size:var(--_ui5_avatar_fontsize_L)}:host([size="XL"]){min-height:7rem;min-width:7rem;font-size:var(--_ui5_avatar_fontsize_XL)}:host .ui5-avatar-icon{height:var(--_ui5_avatar_fontsize_S);width:var(--_ui5_avatar_fontsize_S);color:inherit}:host([size="XS"]) .ui5-avatar-icon{height:var(--_ui5_avatar_icon_XS);width:var(--_ui5_avatar_icon_XS)}:host([size="S"]) .ui5-avatar-icon{height:var(--_ui5_avatar_icon_S);width:var(--_ui5_avatar_icon_S)}:host([size="M"]) .ui5-avatar-icon{height:var(--_ui5_avatar_icon_M);width:var(--_ui5_avatar_icon_M)}:host([size="L"]) .ui5-avatar-icon{height:var(--_ui5_avatar_icon_L);width:var(--_ui5_avatar_icon_L)}:host([size="XL"]) .ui5-avatar-icon{height:var(--_ui5_avatar_icon_XL);width:var(--_ui5_avatar_icon_XL)}::slotted(*){border-radius:50%;width:100%;height:100%;pointer-events:none}:host([shape="Square"]){border-radius:var(--ui5-avatar-border-radius)}:host([shape="Square"]) ::slotted(*){border-radius:calc(var(--ui5-avatar-border-radius) - var(--ui5-avatar-border-radius-img-deduction))}:host(:not([color-scheme])),:host(:not([_has-image])),:host([color-scheme="Auto"]),:host([_color-scheme="Accent6"]),:host([ui5-avatar][color-scheme="Accent6"]){background-color:var(--ui5-avatar-accent6);color:var(--ui5-avatar-accent6-color);border-color:var(--ui5-avatar-accent6-border-color)}:host([_color-scheme="Accent6"][interactive]:not([hidden]):not([disabled]):not(:active):hover),:host([ui5-avatar][color-scheme="Accent6"][interactive]:not([hidden]):not([disabled]):not(:active):hover){background-color:var(--sapAvatar_6_Hover_Background)}:host([_color-scheme="Accent1"]),:host([ui5-avatar][color-scheme="Accent1"]){background-color:var(--ui5-avatar-accent1);color:var(--ui5-avatar-accent1-color);border-color:var(--ui5-avatar-accent1-border-color)}:host([_color-scheme="Accent1"][interactive]:not([hidden]):not([disabled]):not(:active):hover),:host([ui5-avatar][color-scheme="Accent1"][interactive]:not([hidden]):not([disabled]):not(:active):hover){background-color:var(--sapAvatar_1_Hover_Background)}:host([_color-scheme="Accent2"]),:host([ui5-avatar][color-scheme="Accent2"]){background-color:var(--ui5-avatar-accent2);color:var(--ui5-avatar-accent2-color);border-color:var(--ui5-avatar-accent2-border-color)}:host([_color-scheme="Accent2"][interactive]:not([hidden]):not([disabled]):not(:active):hover),:host([ui5-avatar][color-scheme="Accent2"][interactive]:not([hidden]):not([disabled]):not(:active):hover){background-color:var(--sapAvatar_2_Hover_Background)}:host([_color-scheme="Accent3"]),:host([ui5-avatar][color-scheme="Accent3"]){background-color:var(--ui5-avatar-accent3);color:var(--ui5-avatar-accent3-color);border-color:var(--ui5-avatar-accent3-border-color)}:host([_color-scheme="Accent3"][interactive]:not([hidden]):not([disabled]):not(:active):hover),:host([ui5-avatar][color-scheme="Accent3"][interactive]:not([hidden]):not([disabled]):not(:active):hover){background-color:var(--sapAvatar_3_Hover_Background)}:host([_color-scheme="Accent4"]),:host([ui5-avatar][color-scheme="Accent4"]){background-color:var(--ui5-avatar-accent4);color:var(--ui5-avatar-accent4-color);border-color:var(--ui5-avatar-accent4-border-color)}:host([_color-scheme="Accent4"][interactive]:not([hidden]):not([disabled]):not(:active):hover),:host([ui5-avatar][color-scheme="Accent4"][interactive]:not([hidden]):not([disabled]):not(:active):hover){background-color:var(--sapAvatar_4_Hover_Background)}:host([_color-scheme="Accent5"]),:host([ui5-avatar][color-scheme="Accent5"]){background-color:var(--ui5-avatar-accent5);color:var(--ui5-avatar-accent5-color);border-color:var(--ui5-avatar-accent5-border-color)}:host([_color-scheme="Accent5"][interactive]:not([hidden]):not([disabled]):not(:active):hover),:host([ui5-avatar][color-scheme="Accent5"][interactive]:not([hidden]):not([disabled]):not(:active):hover){background-color:var(--sapAvatar_5_Hover_Background)}:host([_color-scheme="Accent7"]),:host([ui5-avatar][color-scheme="Accent7"]){background-color:var(--ui5-avatar-accent7);color:var(--ui5-avatar-accent7-color);border-color:var(--ui5-avatar-accent7-border-color)}:host([_color-scheme="Accent7"][interactive]:not([hidden]):not([disabled]):not(:active):hover),:host([ui5-avatar][color-scheme="Accent7"][interactive]:not([hidden]):not([disabled]):not(:active):hover){background-color:var(--sapAvatar_7_Hover_Background)}:host([_color-scheme="Accent8"]),:host([ui5-avatar][color-scheme="Accent8"]){background-color:var(--ui5-avatar-accent8);color:var(--ui5-avatar-accent8-color);border-color:var(--ui5-avatar-accent8-border-color)}:host([_color-scheme="Accent8"][interactive]:not([hidden]):not([disabled]):not(:active):hover),:host([ui5-avatar][color-scheme="Accent8"][interactive]:not([hidden]):not([disabled]):not(:active):hover){background-color:var(--sapAvatar_8_Hover_Background)}:host([_color-scheme="Accent9"]),:host([ui5-avatar][color-scheme="Accent9"]){background-color:var(--ui5-avatar-accent9);color:var(--ui5-avatar-accent9-color);border-color:var(--ui5-avatar-accent9-border-color)}:host([_color-scheme="Accent9"][interactive]:not([hidden]):not([disabled]):not(:active):hover),:host([ui5-avatar][color-scheme="Accent9"][interactive]:not([hidden]):not([disabled]):not(:active):hover){background-color:var(--sapAvatar_9_Hover_Background)}:host([_color-scheme="Accent10"]),:host([ui5-avatar][color-scheme="Accent10"]){background-color:var(--ui5-avatar-accent10);color:var(--ui5-avatar-accent10-color);border-color:var(--ui5-avatar-accent10-border-color)}:host([_color-scheme="Accent10"][interactive]:not([hidden]):not([disabled]):not(:active):hover),:host([ui5-avatar][color-scheme="Accent10"][interactive]:not([hidden]):not([disabled]):not(:active):hover){background-color:var(--sapAvatar_10_Hover_Background)}:host([_color-scheme="Placeholder"]),:host([ui5-avatar][color-scheme="Placeholder"]){background-color:var(--ui5-avatar-placeholder);color:var(--ui5-avatar-placeholder-color);border-color:var(--sapAvatar_Lite_BorderColor)}:host([_color-scheme="Transparent"]),:host([ui5-avatar][color-scheme="Transparent"]){background-color:transparent;border-color:transparent}:host([_has-image]){color:var(--ui5-avatar-accent10-color);border:var(--ui5-avatar-optional-border);background-color:transparent}.ui5-avatar-initials{color:inherit}.ui5-avatar-icon~.ui5-avatar-initials,.ui5-avatar-icon~.ui5-avatar-icon-fallback{display:none}.ui5-avatar-fallback-icon-hidden{display:none}.ui5-avatar-initials-hidden{position:absolute;visibility:hidden;z-index:0;pointer-events:none}::slotted([slot="badge"]){position:absolute;inset-block-end:0;inset-inline-end:0;width:1.125rem;height:1.125rem;font-family:var(--sapFontFamily);font-size:var(--sapFontSmallSize);--_ui5-avatar-badge-icon-size: .75rem}:host(:not([disabled])) ::slotted([slot="badge"]){pointer-events:initial}:host([size="L"]) ::slotted([slot="badge"]){width:1.25rem;height:1.25rem;--_ui5-avatar-badge-icon-size: .875rem}:host([size="XL"]) ::slotted([slot="badge"]){width:1.75rem;height:1.75rem;--_ui5-avatar-badge-icon-size: 1rem}:host([shape="Square"]) ::slotted([slot="badge"]){border-radius:50%}:host([shape="Square"]) ::slotted([slot="badge"]){inset-block-end:-.125rem;inset-inline-end:-.125rem}:host([size="L"][shape="Square"]) ::slotted([slot="badge"]){inset-block-end:-.1875rem;inset-inline-end:-.1875rem}:host([size="XL"][shape="Square"]) ::slotted([slot="badge"]){inset-block-end:-.25rem;inset-inline-end:-.25rem}\n`;var l;(function(t){t["XS"]="XS";t["S"]="S";t["M"]="M";t["L"]="L";t["XL"]="XL"})(l||(l={}));var d=l;const v="employee";const u="M448 512H64V384q0-26 10-49.5t27.5-41T142 266t50-10h64q-27 0-50-10t-40.5-27.5T138 178t-10-50q0-26 10-49.5t27.5-41T206 10t50-10q26 0 49.5 10t41 27.5 27.5 41 10 49.5q0 27-10 50t-27.5 40.5-41 27.5-49.5 10h64q26 0 49.5 10t41 27.5 27.5 41 10 49.5v128zM96 384v96h320v-96q0-40-28-68t-68-28H192q-40 0-68 28t-28 68zm160-160q40 0 68-28t28-68-28-68-68-28-68 28-28 68 28 68 68 28zm32 192v-32h96v32h-96z";const _=false;const m="SAP-icons-v4";const b="@ui5/webcomponents-icons";c.y(v,{pathData:u,ltr:_,collection:m,packageName:b});const g="employee";const p="M342 255q48 23 77 67.5t29 99.5v32q0 11-7.5 18.5T422 480H90q-11 0-18.5-7.5T64 454v-32q0-55 29-99.5t77-67.5l-4-5q-19-17-28.5-40.5T128 160q0-27 10-50t27.5-40.5 41-27.5T256 32t49.5 10.5 41 28T374 111t10 49q0 27-11 52t-31 43zm-163-95q0 32 22.5 54.5T256 237t54.5-22.5T333 160t-22.5-54.5T256 83t-54.5 22.5T179 160zm51 181l-25-15q-13-7-13-19v-6q-34 17-55.5 49T115 422v7h115v-88zm167 81q0-40-21-72t-56-49v6q0 12-13 19l-26 15v88h116v-7zm-71-70q11 0 18.5 7.5T352 378t-7.5 18-18.5 7h-12q-11 0-18.5-7t-7.5-18 7.5-18.5T314 352h12z";const f=false;const A="SAP-icons-v5";const k="@ui5/webcomponents-icons";c.y(g,{pathData:p,ltr:f,collection:A,packageName:k});var y=this&&this.__decorate||function(t,e,a,o){var i=arguments.length,r=i<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,a):o,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(t,e,a,o);else for(var c=t.length-1;c>=0;c--)if(n=t[c])r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r;return i>3&&r&&Object.defineProperty(e,a,r),r};var I;let z=I=class e extends t.S{constructor(){super();this.disabled=false;this.interactive=false;this.fallbackIcon="employee";this.shape="Circle";this.size="S";this.colorScheme="Auto";this._colorScheme="Auto";this.accessibilityAttributes={};this._hasImage=false;this._imageLoadError=false;this._handleResizeBound=this.handleResize.bind(this);this._onImageLoadBound=this._onImageLoad.bind(this);this._onImageErrorBound=this._onImageError.bind(this)}onBeforeRendering(){this._attachImageEventHandlers();this._hasImage=this.hasImage}get tabindex(){if(this.forcedTabIndex){return parseInt(this.forcedTabIndex)}return this._interactive?0:undefined}get effectiveSize(){return this.getAttribute("size")||d.S}get effectiveBackgroundColor(){return this.getAttribute("color-scheme")||this._colorScheme}get _role(){return this._interactive?"button":"img"}get _ariaHasPopup(){return this._getAriaHasPopup()}get _interactive(){return this.interactive&&!this.disabled}get validInitials(){const t=/^[a-zA-Zà-üÀ-Ü]{1,3}$/,e=this.initials&&t.test(this.initials);if(e){return this.initials}return null}get accessibleNameText(){if(this.accessibleName){return this.accessibleName}const t=I.i18nBundle.getText(n.AVATAR_TOOLTIP);return this.initials?`${t} ${this.initials}`.trim():t}get hasImage(){return!!this.image.length&&!this._imageLoadError}get imageEl(){return this.image?.[0]instanceof HTMLImageElement?this.image[0]:null}get initialsContainer(){return this.getDomRef().querySelector(".ui5-avatar-initials")}get fallBackIconDomRef(){return this.getDomRef().querySelector(".ui5-avatar-icon-fallback")}async onAfterRendering(){await i.f$2();if(this.initials&&!this.icon){this._checkInitials()}}onEnterDOM(){if(i.f$1()){this.setAttribute("desktop","")}this.initialsContainer&&t.f.register(this.initialsContainer,this._handleResizeBound)}onExitDOM(){this.initialsContainer&&t.f.deregister(this.initialsContainer,this._handleResizeBound);this._detachImageEventHandlers()}handleResize(){if(this.initials&&!this.icon){this._checkInitials()}}_checkInitials(){const t=this.getDomRef();const e=t.querySelector(".ui5-avatar-initials");const a=this.validInitials&&e&&e.scrollWidth<=t.scrollWidth;if(a){this.showInitials();return}this.showFallbackIcon()}showFallbackIcon(){this.initialsContainer?.classList.add("ui5-avatar-initials-hidden");this.fallBackIconDomRef?.classList.remove("ui5-avatar-fallback-icon-hidden")}showInitials(){this.initialsContainer?.classList.remove("ui5-avatar-initials-hidden");this.fallBackIconDomRef?.classList.add("ui5-avatar-fallback-icon-hidden")}_onclick(t){t.stopPropagation();this._fireClick()}_onkeydown(e){if(!this._interactive){return}if(t.b(e)){this._fireClick()}if(t.A(e)){e.preventDefault()}}_onkeyup(e){if(this._interactive&&!e.shiftKey&&t.A(e)){this._fireClick()}}_fireClick(){this.fireDecoratorEvent("click")}_getAriaHasPopup(){const t=this.accessibilityAttributes.hasPopup;if(!this._interactive||!t){return}return t}_attachImageEventHandlers(){const t=this.imageEl;if(!t){this._imageLoadError=false;return}t.removeEventListener("load",this._onImageLoadBound);t.removeEventListener("error",this._onImageErrorBound);t.addEventListener("load",this._onImageLoadBound);t.addEventListener("error",this._onImageErrorBound);this._checkExistingImageState()}_checkExistingImageState(){const t=this.imageEl;if(!t){this._imageLoadError=false;return}if(t.complete&&t.naturalWidth===0){this._imageLoadError=true}else if(t.complete&&t.naturalWidth>0){this._imageLoadError=false}else{this._imageLoadError=false}}_detachImageEventHandlers(){const t=this.imageEl;if(!t){return}t.removeEventListener("load",this._onImageLoadBound);t.removeEventListener("error",this._onImageErrorBound)}_onImageLoad(t){if(t.target!==this.imageEl){t.target?.removeEventListener("load",this._onImageLoadBound);return}this._imageLoadError=false}_onImageError(t){if(t.target!==this.imageEl){t.target?.removeEventListener("error",this._onImageErrorBound);return}this._imageLoadError=true}get accessibilityInfo(){return{role:this._role,type:this.interactive?I.i18nBundle.getText(n.AVATAR_TYPE_BUTTON):I.i18nBundle.getText(n.AVATAR_TYPE_IMAGE),description:this.accessibleNameText,disabled:this.disabled}}};y([t.s({type:Boolean})],z.prototype,"disabled",void 0);y([t.s({type:Boolean})],z.prototype,"interactive",void 0);y([t.s()],z.prototype,"icon",void 0);y([t.s()],z.prototype,"fallbackIcon",void 0);y([t.s()],z.prototype,"initials",void 0);y([t.s()],z.prototype,"shape",void 0);y([t.s()],z.prototype,"size",void 0);y([t.s()],z.prototype,"colorScheme",void 0);y([t.s()],z.prototype,"_colorScheme",void 0);y([t.s()],z.prototype,"accessibleName",void 0);y([t.s({type:Object})],z.prototype,"accessibilityAttributes",void 0);y([t.s({noAttribute:true})],z.prototype,"forcedTabIndex",void 0);y([t.s({type:Boolean})],z.prototype,"_hasImage",void 0);y([t.s({type:Boolean,noAttribute:true})],z.prototype,"_imageLoadError",void 0);y([t.d({type:HTMLElement,default:true})],z.prototype,"image",void 0);y([t.d()],z.prototype,"badge",void 0);y([a.i("@ui5/webcomponents")],z,"i18nBundle",void 0);z=I=y([t.m({tag:"ui5-avatar",languageAware:true,renderer:o.y,styles:h,template:s}),e.l("click",{bubbles:true})],z);z.define();var L=z;return L});
//# sourceMappingURL=Avatar.js.map